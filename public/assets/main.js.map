{"version":3,"file":"main.js","sources":["webpack://ssg-ui/./src/main.js"],"sourcesContent":["import './index.css';\r\n\r\n// Theme Toggling\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const themeToggle = document.getElementById('theme-toggle');\r\n    const readerToggle = document.getElementById('reader-theme-toggle');\r\n\r\n    const toggleTheme = () => {\r\n        const current = document.documentElement.getAttribute('data-theme');\r\n        const next = current === 'dark' ? 'light' : 'dark';\r\n        document.documentElement.setAttribute('data-theme', next);\r\n        localStorage.setItem('theme', next);\r\n        updateIcons(next);\r\n    };\r\n\r\n    const updateIcons = (theme) => {\r\n        const icon = theme === 'dark' ? '☀' : '☾';\r\n        if (themeToggle) themeToggle.innerHTML = icon;\r\n        if (readerToggle) readerToggle.innerHTML = icon;\r\n    }\r\n\r\n    if (themeToggle) themeToggle.addEventListener('click', toggleTheme);\r\n    if (readerToggle) readerToggle.addEventListener('click', toggleTheme);\r\n\r\n    // Init icon\r\n    const saved = localStorage.getItem('theme');\r\n    updateIcons(saved || 'light');\r\n\r\n    // Reader Immersive Controls\r\n    const topBar = document.getElementById('top-bar');\r\n    const bottomBar = document.getElementById('bottom-bar');\r\n\r\n    if (topBar && bottomBar) {\r\n        let showControls = true;\r\n        let timeout;\r\n\r\n        const toggleControls = (force) => {\r\n            if (typeof force === 'boolean') showControls = force;\r\n            else showControls = !showControls;\r\n\r\n            if (showControls) {\r\n                topBar.classList.add('visible');\r\n                bottomBar.classList.add('visible');\r\n                if (timeout) clearTimeout(timeout);\r\n            } else {\r\n                topBar.classList.remove('visible');\r\n                bottomBar.classList.remove('visible');\r\n            }\r\n        };\r\n\r\n        // Scroll logic (show on bottom)\r\n        window.addEventListener('scroll', () => {\r\n            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 50) {\r\n                toggleControls(true);\r\n            }\r\n        });\r\n\r\n        // Click logic\r\n        window.addEventListener('click', (e) => {\r\n            if (e.target.closest('button') || e.target.closest('a')) return;\r\n            toggleControls();\r\n        });\r\n\r\n        // Auto hide after 2s\r\n        setTimeout(() => toggleControls(false), 2000);\r\n    }\r\n});\r\n"],"names":["document","addEventListener","themeToggle","getElementById","readerToggle","toggleTheme","next","current","documentElement","getAttribute","setAttribute","localStorage","setItem","updateIcons","theme","icon","innerHTML","saved","getItem","topBar","bottomBar","timeout","showControls","toggleControls","force","classList","add","clearTimeout","remove","window","innerHeight","scrollY","body","offsetHeight","e","target","closest","setTimeout"],"mappings":"oEAGAA,SAASC,gBAAgB,CAAC,mBAAoB,KAC1C,IAAMC,EAAcF,SAASG,cAAc,CAAC,gBACtCC,EAAeJ,SAASG,cAAc,CAAC,uBAEvCE,EAAc,KAEhB,IAAMC,EAAOC,AAAY,SADTP,SAASQ,eAAe,CAACC,YAAY,CAAC,cACpB,QAAU,OAC5CT,SAASQ,eAAe,CAACE,YAAY,CAAC,aAAcJ,GACpDK,aAAaC,OAAO,CAAC,QAASN,GAC9BO,EAAYP,EAChB,EAEMO,EAAc,AAACC,IACjB,IAAMC,EAAOD,AAAU,SAAVA,EAAmB,IAAM,IAClCZ,GAAaA,CAAAA,EAAYc,SAAS,CAAGD,CAAG,EACxCX,GAAcA,CAAAA,EAAaY,SAAS,CAAGD,CAAG,CAClD,EAEIb,GAAaA,EAAYD,gBAAgB,CAAC,QAASI,GACnDD,GAAcA,EAAaH,gBAAgB,CAAC,QAASI,GAIzDQ,EAAYI,AADEN,aAAaO,OAAO,CAAC,UACd,SAGrB,IAAMC,EAASnB,SAASG,cAAc,CAAC,WACjCiB,EAAYpB,SAASG,cAAc,CAAC,cAE1C,GAAIgB,GAAUC,EAAW,CACrB,IACIC,EADAC,EAAe,GAGbC,EAAiB,AAACC,KACYF,EAA5B,AAAiB,WAAjB,OAAOE,EAAoCA,EAC3B,CAACF,IAGjBH,EAAOM,SAAS,CAACC,GAAG,CAAC,WACrBN,EAAUK,SAAS,CAACC,GAAG,CAAC,WACpBL,GAASM,aAAaN,KAE1BF,EAAOM,SAAS,CAACG,MAAM,CAAC,WACxBR,EAAUK,SAAS,CAACG,MAAM,CAAC,WAEnC,EAGAC,OAAO5B,gBAAgB,CAAC,SAAU,KACzB4B,OAAOC,WAAW,CAAGD,OAAOE,OAAO,EAAK/B,SAASgC,IAAI,CAACC,YAAY,CAAG,IACtEV,EAAe,GAEvB,GAGAM,OAAO5B,gBAAgB,CAAC,QAAS,AAACiC,KAC1BA,CAAAA,EAAEC,MAAM,CAACC,OAAO,CAAC,WAAaF,EAAEC,MAAM,CAACC,OAAO,CAAC,IAAG,GACtDb,GACJ,GAGAc,WAAW,IAAMd,EAAe,IAAQ,IAC5C,CACJ,E"}