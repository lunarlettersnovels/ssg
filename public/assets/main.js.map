{"version":3,"file":"main.js","sources":["webpack://ssg-ui/./src/main.js"],"sourcesContent":["import './index.css';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    // ========== Theme Toggle ==========\r\n    const themeToggle = document.getElementById('theme-toggle');\r\n    const readerToggle = document.getElementById('reader-theme-toggle');\r\n\r\n    const toggleTheme = () => {\r\n        const current = document.documentElement.getAttribute('data-theme');\r\n        const next = current === 'dark' ? 'light' : 'dark';\r\n        document.documentElement.setAttribute('data-theme', next);\r\n        localStorage.setItem('theme', next);\r\n    };\r\n\r\n    if (themeToggle) themeToggle.addEventListener('click', toggleTheme);\r\n    if (readerToggle) readerToggle.addEventListener('click', toggleTheme);\r\n\r\n    // ========== Filter Pills (Homepage) ==========\r\n    const pills = document.querySelectorAll('.pill[data-filter]');\r\n    const novelList = document.getElementById('novel-list');\r\n\r\n    if (pills.length && novelList) {\r\n        pills.forEach(pill => {\r\n            pill.addEventListener('click', () => {\r\n                pills.forEach(p => p.classList.remove('active'));\r\n                pill.classList.add('active');\r\n\r\n                const filter = pill.dataset.filter;\r\n                const rows = novelList.querySelectorAll('.novel-row');\r\n\r\n                rows.forEach(row => {\r\n                    if (filter === 'all') {\r\n                        row.style.display = '';\r\n                    } else if (filter === 'ongoing') {\r\n                        const status = (row.dataset.status || '').toLowerCase();\r\n                        const isOngoing = status.includes('ongoing') || status.includes('publishing');\r\n                        row.style.display = isOngoing ? '' : 'none';\r\n                    } else {\r\n                        const status = (row.dataset.status || '').toLowerCase();\r\n                        row.style.display = status.includes(filter) ? '' : 'none';\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    // ========== Smart Header (Hide on scroll down, show on scroll up) ==========\r\n    const header = document.getElementById('app-header');\r\n    if (header) {\r\n        let lastScroll = 0;\r\n        let ticking = false;\r\n\r\n        window.addEventListener('scroll', () => {\r\n            if (!ticking) {\r\n                requestAnimationFrame(() => {\r\n                    const currentScroll = window.scrollY;\r\n\r\n                    if (currentScroll <= 10) {\r\n                        header.style.transform = '';\r\n                    } else if (currentScroll > lastScroll && currentScroll > 80) {\r\n                        header.style.transform = 'translateY(-100%)';\r\n                        header.style.transition = 'transform 0.3s ease';\r\n                    } else {\r\n                        header.style.transform = 'translateY(0)';\r\n                        header.style.transition = 'transform 0.3s ease';\r\n                    }\r\n\r\n                    lastScroll = currentScroll;\r\n                    ticking = false;\r\n                });\r\n                ticking = true;\r\n            }\r\n        }, { passive: true });\r\n    }\r\n\r\n    // ========== Reader Controls (immersive toggle) ==========\r\n    const topBar = document.getElementById('top-bar');\r\n    const bottomBar = document.getElementById('bottom-bar');\r\n\r\n    if (topBar && bottomBar) {\r\n        let controlsVisible = true;\r\n        let hideTimeout;\r\n\r\n        const showControls = () => {\r\n            controlsVisible = true;\r\n            topBar.classList.add('visible');\r\n            bottomBar.classList.add('visible');\r\n            clearTimeout(hideTimeout);\r\n        };\r\n\r\n        const hideControls = () => {\r\n            controlsVisible = false;\r\n            topBar.classList.remove('visible');\r\n            bottomBar.classList.remove('visible');\r\n        };\r\n\r\n        const scheduleHide = () => {\r\n            clearTimeout(hideTimeout);\r\n            hideTimeout = setTimeout(hideControls, 3000);\r\n        };\r\n\r\n        // Show on scroll near edges\r\n        window.addEventListener('scroll', () => {\r\n            const atTop = window.scrollY < 100;\r\n            const atBottom = (window.innerHeight + window.scrollY) >= document.body.offsetHeight - 100;\r\n\r\n            if (atTop || atBottom) {\r\n                showControls();\r\n            }\r\n        }, { passive: true });\r\n\r\n        // Toggle on tap (not on links/buttons)\r\n        window.addEventListener('click', (e) => {\r\n            if (e.target.closest('button') || e.target.closest('a')) return;\r\n            if (controlsVisible) {\r\n                hideControls();\r\n            } else {\r\n                showControls();\r\n                scheduleHide();\r\n            }\r\n        });\r\n\r\n        // Keep visible when hovering bars\r\n        topBar.addEventListener('mouseenter', () => clearTimeout(hideTimeout));\r\n        bottomBar.addEventListener('mouseenter', () => clearTimeout(hideTimeout));\r\n        topBar.addEventListener('mouseleave', scheduleHide);\r\n        bottomBar.addEventListener('mouseleave', scheduleHide);\r\n\r\n        // Initial: show then auto-hide\r\n        showControls();\r\n        scheduleHide();\r\n    }\r\n\r\n    // ========== Series Page Tab Switching ==========\r\n    const tabs = document.querySelectorAll('.series-tab');\r\n    if (tabs.length) {\r\n        tabs.forEach(tab => {\r\n            tab.addEventListener('click', () => {\r\n                tabs.forEach(t => t.classList.remove('active'));\r\n                document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));\r\n                tab.classList.add('active');\r\n                const panel = document.getElementById('panel-' + tab.dataset.tab);\r\n                if (panel) panel.classList.add('active');\r\n            });\r\n        });\r\n    }\r\n});\r\n"],"names":["document","addEventListener","themeToggle","getElementById","readerToggle","toggleTheme","next","current","documentElement","getAttribute","setAttribute","localStorage","setItem","pills","querySelectorAll","novelList","length","forEach","pill","p","classList","remove","add","filter","dataset","rows","row","style","display","status","toLowerCase","isOngoing","includes","header","lastScroll","ticking","window","requestAnimationFrame","currentScroll","scrollY","transform","transition","passive","topBar","bottomBar","hideTimeout","controlsVisible","showControls","clearTimeout","hideControls","scheduleHide","setTimeout","atTop","atBottom","innerHeight","body","offsetHeight","e","target","closest","tabs","tab","t","panel"],"mappings":"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"}